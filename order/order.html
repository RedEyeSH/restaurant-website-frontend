flame
flame0932
N√§kym√§t√∂n

flame ‚Äî eilen klo 2.02
for me it saved
SHST ‚Äî eilen klo 2.02
oh now its saved nice
flame ‚Äî eilen klo 2.04
SHST ‚Äî eilen klo 10.27
@flame Here is the api to fetch current user

async function fetchCurrentUser() {
    try {
        const response = await fetch('http://localhost:3000/api/v1/users/token', {
            method: 'GET',
            headers: {
                'Authorization': `Bearer ${localStorage.getItem('authToken')}`
            }
        });

        if (!response.ok) {
            throw new Error('Failed to fetch current user');
        }

        const user = await response.json();
        console.log('Current User:', user);
    } catch (error) {
        console.error('Error fetching current user:', error);
    }
}

fetchCurrentUser();
flame ‚Äî eilen klo 10.28
Alright
SHST ‚Äî eilen klo 12.57
        const response = await fetch('http://localhost:3000/api/v1/orders/user/:userId', {
            method: 'GET',
            headers: {
                'Authorization': `Bearer ${localStorage.getItem('authToken')}`
            }
        });
flame ‚Äî eilen klo 13.00
https://prod.liveshare.vsengsaas.visualstudio.com/join?66510D99BA6C85FFED53466817BE2D7B6EBF
Visual Studio Code for the Web
Build with Visual Studio Code, anywhere, anytime, entirely in your browser.
http://localhost:5500/index.html
SHST ‚Äî 12.08
Do you have any problems?
flame ‚Äî 12.12
I'm alright üëç
SHST ‚Äî 12.42
To update user api

/api/v1/users/update
Request
{
  "email": "haratoc163@nutrv.com",
  "name": "New Name",
  "password": "newpassword123",
  "retypePassword": "newpassword123"
}
Before updating if have show a messaeg syaing that after updating you will automatically logout. Then we have verify our email again to continue login
SHST ‚Äî 13.00
Here is the api for user favourites

/api/v1/favourites
Request:

{
  "itemId": 1,
  "type": "item"
}
Make sure when requesting to add also the token
Have you changed any of the orders page codes?
flame ‚Äî 13.01
Nope
SHST ‚Äî 13.02
Aight I will make some chages
flame ‚Äî 13.02
okay
SHST ‚Äî 14.22
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Contrail+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

/*
    default background color - #0D0D0D
Laajenna
order.css
7 kt
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="order.css">
Laajenna
order.html
6 kt
let userId = null; // Declare userId variable outside of functions

document.addEventListener("DOMContentLoaded", async () => {
    await loggedIn(); // Ensure loggedIn completes before proceeding
    displayShoppingCart();
    setupOrderForm();
Laajenna
order.js
16 kt
Here are the updated files for order page 
Make sure to commit to github too
I will also make the annoucement page
flame ‚Äî 14.35
Alright
SHST ‚Äî 20.35
have you made any changes to index.html
the main index.html and script.js
flame ‚Äî 20.36
Yes I have
SHST ‚Äî 20.36
Wht have you done?
flame ‚Äî 20.38
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
Laajenna
index.html
18 kt
"use strict";
import { fetchData } from './lib/fetchData.js';
import {fetchRoutes, directionsTo, getRouteSummaries} from './lib/hslReittiopas.js';

// Simple call to fetchRoutes
fetchRoutes().then(data => console.log('Fetched routes:', data));
Laajenna
script.js
43 kt
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Contrail+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

/*
    default background color - #0D0D0D
Laajenna
style.css
25 kt
SHST ‚Äî 20.41
Are you making any chnages right now?
flame ‚Äî 20.41
Nope
I'm working on profile page
SHST ‚Äî 20.41
Did you add any of the favourites button to items?
flame ‚Äî 20.42
for in index.html?
SHST ‚Äî 20.42
jep
flame ‚Äî 20.42
No i haven't
SHST ‚Äî 20.42
btw, whats the 3 thats hiding?
Kuva
flame ‚Äî 20.43
quantitys
I haven't added it yet
SHST ‚Äî 20.43
AIght
Shall I make the favourite button?
I can help you with that
flame ‚Äî 20.44
If you want üôÇ
SHST ‚Äî 20.44
AIght I will make it
flame ‚Äî 20.44
okay
SHST ‚Äî 22.02
Are you coding?
If yes, then can you share the live code?
if no, all good
flame ‚Äî 22.03
I'll come in 30min
SHST ‚Äî 22.03
üëç
Ôªø
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="order.css">
    <script src="https://kit.fontawesome.com/2ed076f63b.js" crossorigin="anonymous"></script>
    <script src="order.js" type="module" defer></script>
    <title>Ordering</title>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-logo">
            <img src="../images/logo_trimmed.png" alt="logo">
            <h1>Burgers.</h1>
        </div>
        <div class="navbar-link">
            <a href="#home">Home</a>
            <a href="">About Us</a>
            <a href="#restaurant">Menu</a>
            <a href="">Contact</a>
        </div>
        <div class="navbar-actions">
            <div class="navbar-icons">
                <div class="navbar-search">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
                <div class="navbar-shopping-cart" id="navbar-shopping-cart">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <p id="navbar-cart-price">$0.00</p>
                </div>
            </div>
            <div class="navbar-login" id="navbar-login">
                <i class="fa-solid fa-arrow-right-to-bracket"></i>
                <p>Login</p>
            </div>
        </div>
    </nav>

    <!-- Order section starts here -->
    <section class="order">
        <div class="order-table">

        </div>

        <div class="order-container">
            <form id="order-form">
                <div class="form-group">
                    <label for="customer-name">Name:</label>
                    <input type="text" id="customer-name" name="customer_name" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">Phone:</label>
                    <input type="tel" id="customer-phone" name="customer_phone" required>
                </div>
                <div class="form-group">
                    <label for="customer-email">Email:</label>
                    <input type="email" id="customer-email" name="customer_email" required>
                </div>
                <div class="form-group">
                    <label for="method">Delivery Method:</label>
                    <select id="method" name="method" required>
                        <option value="delivery">Delivery</option>
                        <option value="pickup">Pickup</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="street">Street:</label>
                    <input type="text" id="street" name="street" required>
                </div>
                <div class="form-group">
                    <label for="postal-code">Postal Code:</label>
                    <input type="text" id="postal-code" name="postalCode" required>
                </div>
                <div class="form-group">
                    <label for="city">City:</label>
                    <input type="text" id="city" name="city" required>
                </div>
                <div class="form-group">
                    <label for="scheduled-time">Scheduled Time:</label>
                    <select id="scheduled-time" name="scheduled_time" required>
                        <option value="now">Now</option>
                        <option value="custom">Select Date and Time</option>
                    </select>
                </div>
                <div class="form-group" id="custom-time-group" style="display: none;">
                    <label for="custom-time">Select Date and Time:</label>
                    <input type="datetime-local" id="custom-time" name="custom_time">
                </div>
                <div class="form-group">
                    <label for="notes">Notes:</label>
                    <textarea id="notes" name="notes"></textarea>
                </div>
                <button type="submit" id="order-button">
                    <span class="btn-text">Place Order</span>
                    <span class="spinner" style="display: none;"></span>
                  </button>
            </div>
            </form>
        </div>


    </section>
    <!-- Order section ends here -->
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const scheduledTimeSelect = document.getElementById("scheduled-time");
            const customTimeGroup = document.getElementById("custom-time-group");
            const customTimeInput = document.getElementById("custom-time");

            scheduledTimeSelect.addEventListener("change", () => {
                if (scheduledTimeSelect.value === "custom") {
                    customTimeGroup.style.display = "block";
                    customTimeInput.required = true;
                } else {
                    customTimeGroup.style.display = "none";
                    customTimeInput.required = false;
                }
            });
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const shoppingCart = JSON.parse(localStorage.getItem("shoppingCart")) || [];
            const orderForm = document.getElementById("order-form");
            const orderContainer = document.querySelector(".order-container");

            if (shoppingCart.length === 0) {
                orderForm.style.display = "none";
                
                const emptyCartMessage = document.createElement("p");
                emptyCartMessage.textContent = "Your shopping cart is empty. Please add items to your cart before placing an order.";
                orderContainer.appendChild(emptyCartMessage);
            }
        });
    </script>
</body>
</html>